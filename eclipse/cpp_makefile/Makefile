#===============================================================================
# User Options
#===============================================================================

PROGRAM  = adder
CXX      = g++
DEBUG    = no
OPTIMIZE = yes
PROFILE  = no

#===============================================================================
# Object Files
#===============================================================================

objects =               \
main.o                  \
add2_i.o                \
add2_d.o                 

#===============================================================================
# COMPILER FLAGS
#===============================================================================

# Debugging
ifeq ($(DEBUG),yes)
  CXXFLAGS += -g -Wall -pedantic 
  LDFLAGS += -g 
endif

# Profiling
ifeq ($(PROFILE),yes)
  CXXFLAGS += -pg
  LDFLAGS  += -pg
endif

# Optimization
ifeq ($(OPTIMIZE),yes)
  CXXFLAGS += -O3
endif

#===============================================================================
# Targets
#===============================================================================

$(PROGRAM): $(objects)
	$(CXX) $(objects) -o $@ $(LDFLAGS) $(LIB) $(INCLUDE)

all: $(PROGRAM)

clean:
	@rm -f *.o $(program)

neat:
	@rm -f *.o

#===============================================================================
# Rules
#===============================================================================

.SUFFIXES: .cc .o
.PHONY: clean neat

%.o: %.cc
	$(CXX) $(CCFLAGS) $(INCLUDE) -c $<

#===============================================================================
# Dependencies
#===============================================================================

main.o: add2_i.o
main.o: add2_d.o

# add2_i.o: something.o
